{"ast":null,"code":"import React,{useState}from\"react\";import\"./Careersform.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CareersForm=_ref=>{let{selectedJob}=_ref;const[formData,setFormData]=useState({name:\"\",email:\"\",phoneNumber:\"\",resume:null});const handleChange=e=>{const{name,value,type,files}=e.target;if(type===\"file\"){setFormData({...formData,[name]:files[0]});}else{setFormData({...formData,[name]:value});}};const handleSubmit=async e=>{e.preventDefault();const formDataToSend=new FormData();formDataToSend.append(\"name\",formData.name);formDataToSend.append(\"email\",formData.email);formDataToSend.append(\"phone_number\",formData.phoneNumber);formDataToSend.append(\"resume\",formData.resume);formDataToSend.append(\"job_id\",selectedJob);// Assuming serialno is the ID you want to send\ntry{const response=await fetch(\"http://127.0.0.1:8000/applications/\",{method:\"POST\",body:formDataToSend});if(!response.ok){throw new Error(\"Failed to submit application\");}alert(\"Application submitted successfully!\");window.location.reload();// Reloads the page after submission\n}catch(error){console.error(\"Error submitting application:\",error);alert(\"Error submitting application. Please try again.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"contactContainer1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formSection1\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reach Out to Our Team\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"formGroup1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:formData.name,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"formGroup1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter Email\",value:formData.email,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"formGroup1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phoneNumber\",placeholder:\"Enter 10 digits\",value:formData.phoneNumber,onChange:e=>{const value=e.target.value;if(/^\\d{0,10}$/.test(value)){handleChange(e);}},maxLength:\"10\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"formGroup1\",children:/*#__PURE__*/_jsx(\"input\",{name:\"resume\",type:\"file\",placeholder:\"Upload Resume\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submitButton1\",\"data-bs-dismiss\":\"modal\",children:\"Send Message\"})]})]})});};export default CareersForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","CareersForm","_ref","selectedJob","formData","setFormData","name","email","phoneNumber","resume","handleChange","e","value","type","files","target","handleSubmit","preventDefault","formDataToSend","FormData","append","response","fetch","method","body","ok","Error","alert","window","location","reload","error","console","className","children","onSubmit","placeholder","onChange","required","test","maxLength"],"sources":["C:/Users/Admin/Documents/pycharmfiles/trishokawebsite/frontend/src/components/careersforms/Careersform.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./Careersform.css\";\r\n\r\nconst CareersForm = ({ selectedJob }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phoneNumber: \"\",\r\n    resume: null,\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, files } = e.target;\r\n    if (type === \"file\") {\r\n      setFormData({ ...formData, [name]: files[0] });\r\n    } else {\r\n      setFormData({ ...formData, [name]: value });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formDataToSend = new FormData();\r\n    formDataToSend.append(\"name\", formData.name);\r\n    formDataToSend.append(\"email\", formData.email);\r\n    formDataToSend.append(\"phone_number\", formData.phoneNumber);\r\n    formDataToSend.append(\"resume\", formData.resume);\r\n    formDataToSend.append(\"job_id\", selectedJob); // Assuming serialno is the ID you want to send\r\n\r\n    try {\r\n      const response = await fetch(\"http://127.0.0.1:8000/applications/\", {\r\n        method: \"POST\",\r\n        body: formDataToSend,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to submit application\");\r\n      }\r\n\r\n      alert(\"Application submitted successfully!\");\r\n      window.location.reload(); // Reloads the page after submission\r\n    } catch (error) {\r\n      console.error(\"Error submitting application:\", error);\r\n      alert(\"Error submitting application. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"contactContainer1\">\r\n      <div className=\"formSection1\">\r\n        <h2>Reach Out to Our Team</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"formGroup1\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"formGroup1\">\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Enter Email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"formGroup1\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"phoneNumber\"\r\n              placeholder=\"Enter 10 digits\"\r\n              value={formData.phoneNumber}\r\n              onChange={(e) => {\r\n                const value = e.target.value;\r\n                if (/^\\d{0,10}$/.test(value)) {\r\n                  handleChange(e);\r\n                }\r\n              }}\r\n              maxLength=\"10\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"formGroup1\">\r\n            <input\r\n              name=\"resume\"\r\n              type=\"file\"\r\n              placeholder=\"Upload Resume\"\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"submitButton1\" data-bs-dismiss=\"modal\">\r\n            Send Message\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CareersForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}