{"ast":null,"code":"import React,{useState}from\"react\";import\"./ContactUsform.css\";// Ensure this file exists for styling\nimport{ArrangeVerticalCircle}from'iconsax-react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ContactUsForm=()=>{const[formData,setFormData]=useState({name:\"\",email:\"\",mobile_number:\"\",message:\"\"});const[isFormValid,setIsFormValid]=useState(false);const[isFormVisible,setIsFormVisible]=useState(true);// Start with the form hidden\nconst[errorMessage,setErrorMessage]=useState(\"\");const validateForm=data=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;const phoneRegex=/^[0-9]{10}$/;return data.name.trim()&&emailRegex.test(data.email)&&phoneRegex.test(data.mobile_number)&&data.message.trim();};const handleChange=e=>{const{name,value}=e.target;const updatedData={...formData,[name]:value};setFormData(updatedData);setIsFormValid(validateForm(updatedData));};const handleSubmit=async e=>{e.preventDefault();if(isFormValid){try{await axios.post(\"http://localhost:8000/contactus/\",formData);alert(\"Message sent successfully!\");resetForm();}catch(error){console.error(\"There was an error sending the message:\",error);setErrorMessage(\"There was an issue submitting the form. Please try again.\");}}};const resetForm=()=>{setFormData({name:\"\",email:\"\",mobile_number:\"\",message:\"\"});setIsFormValid(false);};const toggleFormVisibility=()=>{setIsFormVisible(prev=>!prev);if(isFormVisible){resetForm();// Reset form when closing\n}};const scrollToBottom=()=>{window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleFormVisibility,className:\"toggleButton\",style:{position:'fixed',bottom:'20px',right:'20px',backgroundColor:'#3B999F',border:'none',borderRadius:'50%',width:'50px',height:'50px',display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',boxShadow:'0 2px 10px rgba(0, 0, 0, 0.2)'},children:/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff',fontSize:'25px'},children:\"\\u2709\\uFE0F\"})}),isFormVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"formSection shadow\",role:\"dialog\",\"aria-modal\":\"true\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:\"Algerian, sans-serif\"},children:\"Write us\"}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errorMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"formGroup\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:formData.name,onChange:handleChange,required:true,className:\"inputFields\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"formGroup\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true,className:\"inputFields\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"formGroup\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"mobile_number\",placeholder:\"Phone Number\",maxLength:10,value:formData.mobile_number,onChange:handleChange,required:true,className:\"inputFields\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"formGroup\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",placeholder:\"Message\",value:formData.message,onChange:handleChange,required:true,className:\"inputFields\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:`submitButton ${isFormValid?\"enabled\":\"disabled\"}`,disabled:!isFormValid,style:{cursor:\"pointer\"},children:\"SEND MESSAGE\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"closeButton\",onClick:toggleFormVisibility,\"aria-label\":\"Close\",style:{background:'none',border:'none',cursor:'pointer',fontSize:'24px'},children:\"\\xD7\"})]})]});};export default ContactUsForm;","map":{"version":3,"names":["React","useState","ArrangeVerticalCircle","axios","jsx","_jsx","jsxs","_jsxs","ContactUsForm","formData","setFormData","name","email","mobile_number","message","isFormValid","setIsFormValid","isFormVisible","setIsFormVisible","errorMessage","setErrorMessage","validateForm","data","emailRegex","phoneRegex","trim","test","handleChange","e","value","target","updatedData","handleSubmit","preventDefault","post","alert","resetForm","error","console","toggleFormVisibility","prev","scrollToBottom","window","scrollTo","top","document","body","scrollHeight","behavior","children","onClick","className","style","position","bottom","right","backgroundColor","border","borderRadius","width","height","display","alignItems","justifyContent","cursor","boxShadow","color","fontSize","role","fontFamily","onSubmit","type","placeholder","onChange","required","maxLength","disabled","background"],"sources":["C:/Users/Admin/Documents/pycharmfiles/TrishokaWebsite/Frontend/src/components/forms/ContactUsForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./ContactUsform.css\"; // Ensure this file exists for styling\r\nimport { ArrangeVerticalCircle } from 'iconsax-react';\r\nimport axios from 'axios';\r\n\r\nconst ContactUsForm = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    mobile_number: \"\",\r\n    message: \"\",\r\n  });\r\n\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n  const [isFormVisible, setIsFormVisible] = useState(true); // Start with the form hidden\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const validateForm = (data) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    const phoneRegex = /^[0-9]{10}$/;\r\n\r\n    return (\r\n      data.name.trim() &&\r\n      emailRegex.test(data.email) &&\r\n      phoneRegex.test(data.mobile_number) &&\r\n      data.message.trim()\r\n    );\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const updatedData = { ...formData, [name]: value };\r\n\r\n    setFormData(updatedData);\r\n    setIsFormValid(validateForm(updatedData));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (isFormValid) {\r\n      try {\r\n        await axios.post(\"http://localhost:8000/contactus/\", formData);\r\n        alert(\"Message sent successfully!\");\r\n        resetForm();\r\n      } catch (error) {\r\n        console.error(\"There was an error sending the message:\", error);\r\n        setErrorMessage(\"There was an issue submitting the form. Please try again.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: \"\",\r\n      email: \"\",\r\n      mobile_number: \"\",\r\n      message: \"\",\r\n    });\r\n    setIsFormValid(false);\r\n  };\r\n\r\n  const toggleFormVisibility = () => {\r\n    setIsFormVisible((prev) => !prev);\r\n    if (isFormVisible) {\r\n      resetForm(); // Reset form when closing\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    window.scrollTo({\r\n      top: document.body.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* <a href=\"#\" className=\"back-to-top\" style={{  }} onClick={scrollToBottom}>\r\n        <ArrangeVerticalCircle size=\"20\" color=\"#3B999F\" />\r\n      </a> */}\r\n      <button onClick={toggleFormVisibility} className=\"toggleButton\" \r\n        style={{\r\n          position: 'fixed',\r\n          bottom: '20px',\r\n          right: '20px',\r\n          backgroundColor: '#3B999F',\r\n          border: 'none',\r\n          borderRadius: '50%',\r\n          width: '50px',\r\n          height: '50px',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          cursor: 'pointer',\r\n          boxShadow: '0 2px 10px rgba(0, 0, 0, 0.2)',\r\n        }}\r\n      >\r\n        <span style={{ color: '#fff', fontSize: '25px' }}>✉️</span>\r\n      </button>\r\n\r\n      {isFormVisible && (\r\n        <div className=\"formSection shadow\" role=\"dialog\" aria-modal=\"true\">\r\n          <h2 style={{ fontFamily: \"Algerian, sans-serif\" }}>Write us</h2>\r\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"formGroup\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                placeholder=\"Name\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"inputFields\" />\r\n            </div>\r\n            <div className=\"formGroup\">\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"inputFields\" />\r\n            </div>\r\n            <div className=\"formGroup\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"mobile_number\"\r\n                placeholder=\"Phone Number\"\r\n                maxLength={10}\r\n                value={formData.mobile_number}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"inputFields\" />\r\n            </div>\r\n            <div className=\"formGroup\">\r\n              <textarea\r\n                name=\"message\"\r\n                placeholder=\"Message\"\r\n                value={formData.message}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"inputFields\" />\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              className={`submitButton ${isFormValid ? \"enabled\" : \"disabled\"}`}\r\n              disabled={!isFormValid}\r\n              style={{ cursor: \"pointer\" }}\r\n            >\r\n              SEND MESSAGE\r\n            </button>\r\n          </form>\r\n          <button\r\n            type=\"button\"\r\n            className=\"closeButton\"\r\n            onClick={toggleFormVisibility}\r\n            aria-label=\"Close\"\r\n            style={{ background: 'none', border: 'none', cursor: 'pointer', fontSize: '24px' }}\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactUsForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}